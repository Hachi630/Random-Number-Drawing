# 年会抽奖系统

一个功能完整、视觉震撼的网页端年会抽奖系统，支持不重复抽取、数据持久化、Excel导出等功能。

## 功能特性

### 核心功能
- ✅ **不重复抽取**：使用奖池机制，确保每个号码只被抽取一次
- ✅ **加密级随机数**：使用 Crypto API 生成真正的随机数
- ✅ **数据持久化**：自动保存到 LocalStorage，刷新不丢失
- ✅ **数据恢复**：页面重新打开时自动检测并恢复未完成的抽奖

### 界面与交互
- 🎨 **喜庆红色主题**：专为年会场景设计的视觉风格
- 🎬 **滚动动画**：老虎机式的数字滚动效果，由快到慢
- 🎉 **庆祝特效**：抽中号码时的爆炸碎屑（Confetti）效果
- 📱 **响应式设计**：适配不同屏幕比例（16:9、4:3等）

### 高级功能
- ⚙️ **黑白名单**：支持排除特定号码或仅使用指定号码
- ⌨️ **键盘控制**：支持空格键开始/停止，Escape 键关闭弹窗
- 📊 **批量抽取**：支持一次抽取多人
- 📥 **Excel 导出**：一键导出中奖名单到 Excel
- 📋 **中奖名单**：实时显示已抽取的号码列表

## 技术栈

- **框架**：React 18 + TypeScript
- **构建工具**：Vite
- **动画库**：Framer Motion
- **Excel 导出**：xlsx
- **样式**：CSS Modules + 全局样式

## 快速开始

### 安装依赖

```bash
npm install
```

### 开发运行

```bash
npm run dev
```

### 构建生产版本

```bash
npm run build
```

### 预览生产版本

```bash
npm run preview
```

## 使用说明

### 基本操作

1. **开始抽奖**：点击"开始抽奖"按钮或按空格键
2. **停止抽奖**：在滚动过程中点击"停止"按钮或按空格键
3. **批量抽取**：点击"批量抽取"按钮，输入人数后确认
4. **导出名单**：点击"导出名单"按钮，自动下载 Excel 文件
5. **重置奖池**：点击"重置奖池"按钮，清除所有记录（需确认）

### 设置黑白名单

1. 点击右下角的设置按钮（⚙️）
2. 在"黑名单"中输入要排除的号码（支持范围，如：1-10, 88, 100-105）
3. 在"白名单"中输入仅使用的号码（留空表示使用全部）
4. 点击"应用"保存设置

### 键盘快捷键

- **空格键**：开始/停止抽奖
- **Escape 键**：关闭设置面板或恢复提示弹窗

## 项目结构

```
src/
├── components/          # React 组件
│   ├── LotteryDisplay.tsx    # 数字滚动显示
│   ├── ControlPanel.tsx       # 控制面板
│   ├── WinnerList.tsx         # 中奖名单
│   ├── SettingsPanel.tsx      # 设置面板
│   └── ConfettiEffect.tsx     # 庆祝特效
├── hooks/              # 自定义 Hooks
│   ├── useLotteryPool.ts      # 奖池管理
│   ├── useKeyboardControl.ts  # 键盘控制
│   └── useLocalStorage.ts     # 数据持久化
├── utils/              # 工具函数
│   ├── lotteryPool.ts         # 奖池核心逻辑
│   ├── randomGenerator.ts     # 随机数生成
│   └── excelExporter.ts       # Excel 导出
├── types/              # TypeScript 类型定义
└── styles/             # 样式文件
```

## 数据存储

系统使用浏览器的 LocalStorage 存储以下数据：
- 已抽取的号码列表
- 剩余号码池
- 黑白名单配置
- 抽奖历史记录

数据会在每次抽取后自动保存，页面刷新后可以恢复。

## 浏览器兼容性

- Chrome/Edge (推荐)
- Firefox
- Safari
- 需要支持 ES6+ 和 LocalStorage

## 许可证

MIT License